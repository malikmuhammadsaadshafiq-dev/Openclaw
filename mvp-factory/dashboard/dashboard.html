<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MVP Factory | Command Center</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x1f9de;</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
/* ========== RESET & BASE ========== */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

:root{
  /* Easing - from UX Mastery Phase 4 */
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in: cubic-bezier(0.55, 0, 1, 0.45);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-smooth: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
  --ease-snap: cubic-bezier(0.5, 0, 0, 1);
  /* 12-token color system - Phase 1 */
  --bg-deep: #060610;
  --bg-surface: #0d0d1a;
  --bg-elevated: #131320;
  --bg-overlay: rgba(6,6,16,0.85);
  --glass: rgba(255,255,255,0.035);
  --glass-border: rgba(255,255,255,0.06);
  --glass-hover: rgba(255,255,255,0.08);
  --glass-active: rgba(255,255,255,0.14);
  --bg-sidebar: #0a0a18;
  --text-primary: #eef0f4;
  --text-secondary: #8892a4;
  --text-tertiary: #4a5568;
  --accent-purple: #8b5cf6;
  --accent-blue: #3b82f6;
  --accent-cyan: #06b6d4;
  --accent-green: #10b981;
  --accent-amber: #f59e0b;
  --accent-rose: #f43f5e;
  --accent-pink: #ec4899;
  --accent-orange: #ff6200;
  /* Radii - tightened per Phase 3 */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  /* Layout */
  --sidebar-w: 260px;
  --sidebar-collapsed: 68px;
  --header-h: 64px;
  /* Glow token */
  --glow-accent: rgba(139,92,246,0.15);
}

body{
  background: var(--bg-deep);
  min-height:100vh;
  font-family:'Inter',system-ui,-apple-system,sans-serif;
  color: var(--text-primary);
  overflow-x:hidden;
  position:relative;
  font-feature-settings:'cv02','cv03','cv04','cv11';
  -webkit-font-smoothing:antialiased;
}
/* Global scrollbar - Phase 6 */
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.08);border-radius:3px}
::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.14)}
*{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,0.08) transparent}

/* ========== AURORA BACKGROUND ========== */
.bg-layer{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.aurora-orb{position:absolute;border-radius:50%;filter:blur(140px);opacity:0.18;will-change:transform}
.aurora-orb:nth-child(1){width:65vw;height:65vw;background:radial-gradient(circle,rgba(139,92,246,0.6),transparent 70%);top:-35%;left:-15%;animation:aurora-1 30s ease-in-out infinite alternate}
.aurora-orb:nth-child(2){width:50vw;height:50vw;background:radial-gradient(circle,rgba(6,182,212,0.5),transparent 70%);bottom:-30%;right:-10%;animation:aurora-2 25s ease-in-out infinite alternate}
.aurora-orb:nth-child(3){width:35vw;height:35vw;background:radial-gradient(circle,rgba(16,185,129,0.4),transparent 70%);top:40%;left:55%;opacity:0.08;animation:aurora-3 35s ease-in-out infinite alternate}
.aurora-orb:nth-child(4){width:30vw;height:30vw;background:radial-gradient(circle,rgba(245,158,11,0.3),transparent 70%);bottom:15%;left:15%;opacity:0.06;animation:aurora-2 40s ease-in-out infinite alternate-reverse}
@keyframes aurora-1{0%{transform:translate(0,0) scale(1) rotate(0)}33%{transform:translate(3%,5%) scale(1.05) rotate(2deg)}66%{transform:translate(-2%,3%) scale(0.97) rotate(-1deg)}100%{transform:translate(1%,-2%) scale(1.03) rotate(1deg)}}
@keyframes aurora-2{0%{transform:translate(0,0) scale(1)}50%{transform:translate(-5%,-3%) scale(1.1)}100%{transform:translate(3%,5%) scale(0.93)}}
@keyframes aurora-3{0%{transform:translate(0,0) scale(1) rotate(0)}100%{transform:translate(-10%,8%) scale(1.15) rotate(8deg)}}

.dot-grid{position:fixed;inset:0;z-index:0;pointer-events:none;background-image:radial-gradient(circle,rgba(255,255,255,0.018) 1px,transparent 1px);background-size:28px 28px}
.noise-overlay{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:0.015;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");mix-blend-mode:overlay}

/* ========== LAYOUT: SIDEBAR + MAIN ========== */
.app-layout{display:flex;min-height:100vh;position:relative;z-index:1}

/* ========== SIDEBAR ========== */
.sidebar{
  width:var(--sidebar-w);height:100vh;position:fixed;left:0;top:0;z-index:100;
  background:rgba(10,10,24,0.92);backdrop-filter:blur(32px) saturate(140%);
  border-right:1px solid rgba(255,255,255,0.05);
  display:flex;flex-direction:column;
  transition:width 0.35s var(--ease-out),transform 0.35s var(--ease-out);
  overflow:hidden;
}
.sidebar.collapsed{width:var(--sidebar-collapsed)}
.sidebar-header{
  height:var(--header-h);display:flex;align-items:center;gap:0.75rem;
  padding:0 1rem;border-bottom:1px solid rgba(255,255,255,0.05);flex-shrink:0;
}
.sidebar-logo{
  width:38px;height:38px;border-radius:12px;flex-shrink:0;
  background:linear-gradient(135deg,var(--accent-purple),var(--accent-cyan));
  display:flex;align-items:center;justify-content:center;font-size:1.1rem;
  box-shadow:0 4px 20px rgba(139,92,246,0.25);
  animation:logo-breathe 4s var(--ease-in-out) infinite;
  position:relative;
}
@keyframes logo-breathe{0%,100%{box-shadow:0 4px 20px rgba(139,92,246,0.2)}50%{box-shadow:0 4px 28px rgba(139,92,246,0.4),0 0 0 4px rgba(139,92,246,0.08)}}
.sidebar-brand{overflow:hidden;white-space:nowrap;transition:opacity 0.2s}
.sidebar.collapsed .sidebar-brand{opacity:0;width:0}
.sidebar-brand h2{font-size:1.1rem;font-weight:800;letter-spacing:-0.03em;background:linear-gradient(135deg,#c4b5fd,#a5f3fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.sidebar-brand span{font-size:0.6rem;color:var(--text-tertiary);font-weight:500;text-transform:uppercase;letter-spacing:0.06em}

.sidebar-nav{flex:1;padding:0.75rem 0.5rem;overflow-y:auto;scrollbar-width:none}
.sidebar-nav::-webkit-scrollbar{display:none}

.nav-section{margin-bottom:1rem}
.nav-label{
  font-size:0.58rem;font-weight:700;color:var(--text-tertiary);
  text-transform:uppercase;letter-spacing:0.1em;
  padding:0.5rem 0.75rem 0.35rem;
  white-space:nowrap;overflow:hidden;
}
.sidebar.collapsed .nav-label{opacity:0;height:0;padding:0;margin:0}

.nav-item{
  display:flex;align-items:center;gap:0.65rem;
  padding:0.55rem 0.75rem;border-radius:var(--radius-sm);
  color:var(--text-secondary);font-size:0.8rem;font-weight:500;
  cursor:pointer;transition:all 0.2s var(--ease-out);
  white-space:nowrap;position:relative;margin-bottom:2px;
}
.nav-item:hover{background:rgba(255,255,255,0.05);color:var(--text-primary)}
.nav-item.active{background:rgba(139,92,246,0.1);color:#c4b5fd;border:1px solid rgba(139,92,246,0.12)}
.nav-item.active::before{content:"";position:absolute;left:0;top:20%;bottom:20%;width:3px;border-radius:0 2px 2px 0;background:var(--accent-purple);box-shadow:0 0 8px rgba(139,92,246,0.5)}
.nav-icon{width:20px;height:20px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:0.95rem}
.nav-text{overflow:hidden;transition:opacity 0.2s}
.sidebar.collapsed .nav-text{opacity:0;width:0}
.nav-badge{
  margin-left:auto;font-size:0.58rem;font-weight:700;
  padding:0.1rem 0.4rem;border-radius:6px;
  background:rgba(139,92,246,0.15);color:#a78bfa;
  min-width:18px;text-align:center;
}
.sidebar.collapsed .nav-badge{display:none}

.sidebar-footer{
  padding:0.75rem;border-top:1px solid rgba(255,255,255,0.05);
  display:flex;align-items:center;gap:0.5rem;flex-shrink:0;
}
.sidebar-toggle{
  width:32px;height:32px;border-radius:8px;border:none;
  background:rgba(255,255,255,0.05);color:var(--text-tertiary);
  cursor:pointer;display:flex;align-items:center;justify-content:center;
  font-size:1rem;transition:all 0.2s;
}
.sidebar-toggle:hover{background:rgba(255,255,255,0.1);color:var(--text-primary)}
.sidebar-version{font-size:0.6rem;color:var(--text-tertiary);overflow:hidden;white-space:nowrap}
.sidebar.collapsed .sidebar-version{opacity:0;width:0}

/* ========== MAIN CONTENT ========== */
.main-content{
  flex:1;margin-left:var(--sidebar-w);
  transition:margin-left 0.3s var(--ease-smooth);
  min-height:100vh;
}
.sidebar.collapsed ~ .main-content{margin-left:var(--sidebar-collapsed)}

/* ========== TOP BAR ========== */
.topbar{
  height:var(--header-h);display:flex;align-items:center;
  padding:0 1.5rem;gap:0.75rem;
  border-bottom:1px solid rgba(255,255,255,0.04);
  background:rgba(6,6,16,0.7);backdrop-filter:blur(20px) saturate(130%);
  position:sticky;top:0;z-index:50;
}
.topbar-left{display:flex;align-items:center;gap:0.75rem;flex:1}
.breadcrumb{display:flex;align-items:center;gap:0.35rem;font-size:0.75rem;color:var(--text-tertiary)}
.breadcrumb-active{color:var(--text-primary);font-weight:600}

.cmd-trigger{
  display:flex;align-items:center;gap:0.5rem;
  padding:0.4rem 0.85rem;border-radius:var(--radius-sm);
  background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.07);
  color:var(--text-tertiary);font-size:0.75rem;cursor:pointer;
  transition:all 0.2s;min-width:200px;
}
.cmd-trigger:hover{background:rgba(255,255,255,0.07);color:var(--text-secondary);border-color:rgba(255,255,255,0.12)}
.cmd-trigger kbd{font-size:0.6rem;padding:0.1rem 0.35rem;border-radius:4px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.1);font-family:'JetBrains Mono',monospace;margin-left:auto}

.topbar-right{display:flex;align-items:center;gap:0.6rem}
.status-pill{
  display:inline-flex;align-items:center;gap:0.45rem;
  padding:0.35rem 0.8rem;border-radius:9999px;
  font-size:0.72rem;font-weight:600;
  background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.08);
}
.status-dot{width:7px;height:7px;border-radius:50%;flex-shrink:0;position:relative}
.status-dot::after{content:"";position:absolute;inset:-3px;border-radius:50%;animation:pulse-ring 2s ease-in-out infinite}
.status-dot.green{background:#34d399;box-shadow:0 0 8px #34d399}
.status-dot.green::after{border:1px solid rgba(52,211,153,0.4)}
.status-dot.red{background:#f87171;box-shadow:0 0 8px #f87171}
.status-dot.red::after{border:1px solid rgba(248,113,113,0.4)}
.status-dot.amber{background:#fbbf24;box-shadow:0 0 8px #fbbf24}
.status-dot.amber::after{border:1px solid rgba(251,191,36,0.4)}
@keyframes pulse-ring{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0;transform:scale(1.8)}}

.sys-badge{font-size:0.62rem;color:var(--text-tertiary);padding:0.2rem 0.5rem;border-radius:6px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.05);font-family:'JetBrains Mono',monospace}
.meta-time{font-size:0.65rem;color:var(--text-tertiary);font-variant-numeric:tabular-nums}

.topbar-btn{
  width:34px;height:34px;border-radius:var(--radius-sm);border:1px solid rgba(255,255,255,0.07);
  background:rgba(255,255,255,0.04);color:var(--text-secondary);
  cursor:pointer;display:flex;align-items:center;justify-content:center;
  font-size:0.85rem;transition:all 0.2s var(--ease-out);position:relative;
}
.topbar-btn:hover{background:rgba(255,255,255,0.08);color:var(--text-primary)}
.topbar-btn:active{transform:scale(0.95)}
.topbar-btn .notif-dot{position:absolute;top:5px;right:5px;width:6px;height:6px;border-radius:50%;background:var(--accent-rose);box-shadow:0 0 6px var(--accent-rose)}

/* ========== PAGE CONTAINER ========== */
.page{padding:1.25rem 1.5rem;max-width:1400px;width:100%}
.page-section{display:none}
.page-section.active{display:block}

/* ========== CARDS ========== */
.card{
  background:var(--glass);backdrop-filter:blur(20px) saturate(140%);-webkit-backdrop-filter:blur(20px) saturate(140%);
  border:1px solid var(--glass-border);border-radius:var(--radius-lg);padding:1.5rem;
  position:relative;overflow:hidden;
  transition:border-color 0.3s var(--ease-out),box-shadow 0.4s var(--ease-out),background 0.3s var(--ease-out);
}
.card:hover{background:var(--glass-hover);border-color:rgba(255,255,255,0.1);box-shadow:0 0 0 1px rgba(139,92,246,0.05),0 8px 32px -8px rgba(0,0,0,0.3)}
.card::before{content:"";position:absolute;inset:0;background:radial-gradient(600px circle at var(--mouse-x,50%) var(--mouse-y,50%),rgba(139,92,246,0.04),transparent 40%);pointer-events:none;opacity:0;transition:opacity 0.5s var(--ease-out);z-index:0}
.card:hover::before{opacity:1}
.card>*{position:relative;z-index:1}
.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.25rem}
.card-title{font-size:0.78rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:0.08em;display:flex;align-items:center;gap:0.5rem}
.card-count{font-size:0.7rem;color:var(--text-tertiary);font-variant-numeric:tabular-nums;padding:0.15rem 0.5rem;border-radius:6px;background:rgba(255,255,255,0.04)}

/* ========== STAT CARDS ========== */
.stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:0.75rem;margin-bottom:1.25rem}
.stat-card{text-align:center;padding:1.25rem 0.75rem 1rem;position:relative}
.stat-card .stat-icon{width:40px;height:40px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;font-size:1.1rem;margin-bottom:0.6rem;position:relative}
.stat-card:nth-child(1) .stat-icon{background:rgba(139,92,246,0.12);box-shadow:0 0 20px rgba(139,92,246,0.1)}
.stat-card:nth-child(2) .stat-icon{background:rgba(59,130,246,0.12);box-shadow:0 0 20px rgba(59,130,246,0.1)}
.stat-card:nth-child(3) .stat-icon{background:rgba(16,185,129,0.12);box-shadow:0 0 20px rgba(16,185,129,0.1)}
.stat-card:nth-child(4) .stat-icon{background:rgba(245,158,11,0.12);box-shadow:0 0 20px rgba(245,158,11,0.1)}
.stat-card:nth-child(5) .stat-icon{background:rgba(236,72,153,0.12);box-shadow:0 0 20px rgba(236,72,153,0.1)}
.stat-card:nth-child(6) .stat-icon{background:rgba(255,98,0,0.12);box-shadow:0 0 20px rgba(255,98,0,0.1)}
.stat-card:nth-child(7) .stat-icon{background:rgba(6,182,212,0.12);box-shadow:0 0 20px rgba(6,182,212,0.1)}
.stat-card:nth-child(8) .stat-icon{background:rgba(168,85,247,0.12);box-shadow:0 0 20px rgba(168,85,247,0.1)}
.stat-value{font-size:clamp(1.75rem,3vw,2.5rem);font-weight:800;line-height:1.1;letter-spacing:-0.03em;margin-bottom:0.25rem;font-variant-numeric:tabular-nums;transition:color 0.3s var(--ease-out)}
.stat-card:nth-child(1) .stat-value{color:#c4b5fd}
.stat-card:nth-child(2) .stat-value{color:#93c5fd}
.stat-card:nth-child(3) .stat-value{color:#6ee7b7}
.stat-card:nth-child(4) .stat-value{color:#fcd34d}
.stat-card:nth-child(5) .stat-value{color:#f9a8d4}
.stat-card:nth-child(6) .stat-value{color:#ff8c40}
.stat-card:nth-child(7) .stat-value{color:#67e8f9}
.stat-card:nth-child(8) .stat-value{color:#c4b5fd}
/* Stat card hover glow */
.stat-card{transition:background 0.3s var(--ease-out),border-color 0.3s var(--ease-out),box-shadow 0.4s var(--ease-out)}
.stat-card:nth-child(1):hover{box-shadow:0 0 24px rgba(139,92,246,0.1)}
.stat-card:nth-child(2):hover{box-shadow:0 0 24px rgba(59,130,246,0.1)}
.stat-card:nth-child(3):hover{box-shadow:0 0 24px rgba(16,185,129,0.1)}
.stat-card:nth-child(4):hover{box-shadow:0 0 24px rgba(245,158,11,0.1)}
.stat-card:nth-child(5):hover{box-shadow:0 0 24px rgba(236,72,153,0.1)}
.stat-card:nth-child(6):hover{box-shadow:0 0 24px rgba(255,98,0,0.1)}
.stat-card:nth-child(7):hover{box-shadow:0 0 24px rgba(6,182,212,0.1)}
.stat-card:nth-child(8):hover{box-shadow:0 0 24px rgba(168,85,247,0.1)}
.stat-label{font-size:0.7rem;color:var(--text-tertiary);font-weight:500}
.stat-sub{font-size:0.65rem;color:var(--text-tertiary);margin-top:0.2rem;opacity:0.7}
/* Sparkline in stat cards */
.sparkline{display:flex;align-items:flex-end;gap:2px;height:24px;margin-top:0.5rem;justify-content:center}
.sparkline-bar{width:4px;border-radius:2px;background:rgba(255,255,255,0.06);transition:height 0.5s var(--ease-out)}

/* ========== CURRENT BUILD ========== */
.current-build-card{position:relative;margin-bottom:1.25rem;isolation:isolate;border:none;background:transparent;padding:0}
.current-build-card::before{content:"";position:absolute;inset:0;border-radius:var(--radius-lg);padding:1.5px;background:conic-gradient(from var(--border-angle,0deg),transparent 20%,var(--accent-purple) 40%,var(--accent-cyan) 60%,transparent 80%);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;animation:rotate-border 3s linear infinite;opacity:0;transition:opacity 0.6s var(--ease-out)}
.current-build-card.active::before{opacity:1}
@property --border-angle{syntax:"<angle>";initial-value:0deg;inherits:false}
@keyframes rotate-border{to{--border-angle:360deg}}
.current-build-inner{background:var(--glass);backdrop-filter:blur(20px) saturate(140%);border:1px solid var(--glass-border);border-radius:var(--radius-lg);padding:1.5rem;position:relative;transition:all 0.4s var(--ease-out)}
.current-build-card.active .current-build-inner{border-color:rgba(139,92,246,0.15);background:rgba(139,92,246,0.04);box-shadow:0 0 40px rgba(139,92,246,0.06)}
.build-active{display:flex;align-items:center;gap:1.25rem}
.build-spinner{width:44px;height:44px;border-radius:50%;flex-shrink:0;border:3px solid rgba(255,255,255,0.06);border-top-color:var(--accent-purple);border-right-color:var(--accent-cyan);animation:spin-smooth 0.9s linear infinite;box-shadow:0 0 16px rgba(139,92,246,0.12)}
@keyframes spin-smooth{to{transform:rotate(360deg)}}
.build-info h3{font-size:1.1rem;font-weight:700;margin-bottom:0.2rem}
.build-info p{font-size:0.75rem;color:var(--text-secondary)}
.build-progress{margin-top:1rem;height:2px;background:rgba(255,255,255,0.04);border-radius:1px;overflow:hidden}
.build-progress-bar{height:100%;width:30%;border-radius:1px;background:linear-gradient(90deg,var(--accent-purple),var(--accent-cyan));animation:progress-indeterminate 2.2s var(--ease-in-out) infinite}
@keyframes progress-indeterminate{0%{width:8%;margin-left:0}50%{width:35%;margin-left:30%}100%{width:8%;margin-left:92%}}
.build-idle{text-align:center;padding:1.5rem 1rem}
.idle-icon{font-size:2.5rem;margin-bottom:0.5rem;animation:float-gentle 5s var(--ease-in-out) infinite;filter:grayscale(0.2)}
@keyframes float-gentle{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.idle-text{font-size:0.85rem;color:var(--text-tertiary);font-weight:500}
.idle-sub{font-size:0.7rem;color:var(--text-tertiary);opacity:0.6;margin-top:0.25rem}

/* ========== MAIN GRID ========== */
.main-grid{display:grid;grid-template-columns:1.3fr 1fr;gap:1.25rem}

/* ========== TERMINAL ========== */
.terminal{border-radius:var(--radius-lg);overflow:hidden}
.terminal-header{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1rem;background:rgba(255,255,255,0.025);border-bottom:1px solid rgba(255,255,255,0.04)}
.terminal-dots{display:flex;gap:6px}
.terminal-dots span{width:10px;height:10px;border-radius:50%;transition:opacity 0.2s}
.terminal-dots span:nth-child(1){background:#ff5f57;box-shadow:0 0 4px rgba(255,95,87,0.3)}
.terminal-dots span:nth-child(2){background:#febc2e;box-shadow:0 0 4px rgba(254,188,46,0.3)}
.terminal-dots span:nth-child(3){background:#28c840;box-shadow:0 0 4px rgba(40,200,64,0.3)}
.terminal-title{flex:1;text-align:center;font-size:0.7rem;color:var(--text-tertiary);font-family:'JetBrains Mono',monospace}
.terminal-badge{font-size:0.6rem;font-weight:600;padding:0.15rem 0.5rem;border-radius:4px;background:rgba(52,211,153,0.1);color:#34d399;text-transform:uppercase;letter-spacing:0.05em}
.log-viewer{background:rgba(0,0,0,0.3);padding:1rem;max-height:460px;overflow-y:auto;font-family:'JetBrains Mono',ui-monospace,monospace;font-size:0.68rem;line-height:1.8}
.log-line{white-space:pre-wrap;word-break:break-all;padding:0.15rem 0;border-left:2px solid transparent;padding-left:0.75rem;transition:border-color 0.15s var(--ease-out),background 0.15s var(--ease-out)}
.log-line:hover{background:rgba(255,255,255,0.025);border-left-color:rgba(255,255,255,0.1)}
.log-info{color:#8892a4}.log-error{color:#f87171;font-weight:600;border-left-color:rgba(248,113,113,0.4)}
.log-warn{color:#fbbf24;border-left-color:rgba(251,191,36,0.3)}
.log-success{color:#34d399;border-left-color:rgba(52,211,153,0.3)}
.log-build{color:#a78bfa;font-weight:600;border-left-color:rgba(167,139,250,0.4)}
.log-deploy{color:#60a5fa;border-left-color:rgba(96,165,250,0.3)}
.log-reddit{color:#ff6200;border-left-color:rgba(255,98,0,0.4)}

/* ========== SIDEBAR STACK / PIPELINE ========== */
.sidebar-stack{display:flex;flex-direction:column;gap:1.25rem}
.tabs{display:flex;gap:0.25rem;background:rgba(255,255,255,0.03);border-radius:var(--radius-sm);padding:3px;margin-bottom:0.75rem}
.tab-btn{flex:1;padding:0.45rem 0.75rem;border:none;background:transparent;color:var(--text-tertiary);font-size:0.72rem;font-weight:600;font-family:inherit;cursor:pointer;border-radius:8px;transition:all 0.25s var(--ease-smooth)}
.tab-btn.active{background:rgba(255,255,255,0.08);color:var(--text-primary);box-shadow:0 2px 8px rgba(0,0,0,0.15)}
.tab-btn:hover:not(.active){color:var(--text-secondary)}
.list-scroll{max-height:400px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,0.06) transparent}
.list-scroll::-webkit-scrollbar{width:4px}
.list-scroll::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.06);border-radius:2px}
.list-item{padding:0.65rem 0.5rem;border-bottom:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;gap:0.65rem;border-radius:var(--radius-sm);transition:background 0.2s;cursor:default}
.list-item:hover{background:rgba(255,255,255,0.03)}
.list-item:last-child{border-bottom:none}
.list-rank{font-size:0.65rem;font-weight:700;color:var(--text-tertiary);width:18px;text-align:center;flex-shrink:0;font-variant-numeric:tabular-nums}
.list-info{flex:1;min-width:0}
.list-title{font-size:0.8rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.list-meta{font-size:0.65rem;color:var(--text-tertiary);margin-top:0.15rem;display:flex;align-items:center;gap:0.5rem;flex-wrap:wrap}
.badge{padding:0.12rem 0.5rem;border-radius:6px;font-size:0.6rem;font-weight:700;text-transform:uppercase;letter-spacing:0.04em;flex-shrink:0;backdrop-filter:blur(4px)}
.badge-web{background:rgba(59,130,246,0.12);color:#60a5fa;border:1px solid rgba(59,130,246,0.2)}
.badge-saas{background:rgba(139,92,246,0.12);color:#a78bfa;border:1px solid rgba(139,92,246,0.2)}
.badge-mobile{background:rgba(16,185,129,0.12);color:#34d399;border:1px solid rgba(16,185,129,0.2)}
.badge-extension{background:rgba(245,158,11,0.12);color:#fbbf24;border:1px solid rgba(245,158,11,0.2)}
.badge-api{background:rgba(236,72,153,0.12);color:#f472b6;border:1px solid rgba(236,72,153,0.2)}
.score-wrap{display:flex;align-items:center;gap:0.4rem;flex-shrink:0}
.score-num{font-size:0.6rem;font-weight:700;color:var(--text-tertiary);font-variant-numeric:tabular-nums;width:14px;text-align:right}
.score-bar{width:52px;height:4px;background:rgba(255,255,255,0.06);border-radius:2px;overflow:hidden}
.score-fill{height:100%;border-radius:2px;transition:width 0.6s var(--ease-out)}
.score-high{background:linear-gradient(90deg,#34d399,#10b981)}
.score-mid{background:linear-gradient(90deg,#60a5fa,#3b82f6)}
.score-low{background:linear-gradient(90deg,#fbbf24,#f59e0b)}
.link-row{display:flex;gap:0.35rem;flex-shrink:0}
.link-btn{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:7px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);color:var(--text-tertiary);text-decoration:none;font-size:0.6rem;font-weight:700;transition:all 0.2s var(--ease-out)}
.link-btn:hover{background:rgba(255,255,255,0.12);color:var(--text-primary);border-color:rgba(255,255,255,0.15)}
.link-live{position:relative}
.link-live::after{content:"";position:absolute;top:-2px;right:-2px;width:6px;height:6px;border-radius:50%;background:#34d399;box-shadow:0 0 6px #34d399}
.source-tag{font-size:0.52rem;font-weight:700;padding:0.06rem 0.35rem;border-radius:3px;text-transform:uppercase;letter-spacing:0.04em}
.source-reddit{background:rgba(255,98,0,0.1);color:#ff6200;border:1px solid rgba(255,98,0,0.2)}
.source-ai{background:rgba(139,92,246,0.1);color:#a78bfa;border:1px solid rgba(139,92,246,0.2)}

/* ========== SQUADRON AGENTS ========== */
.squadron-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:0.75rem;margin-bottom:1.25rem}
.agent-card{text-align:center;padding:1.25rem 0.75rem}
.agent-avatar{
  width:48px;height:48px;border-radius:14px;margin:0 auto 0.65rem;
  display:flex;align-items:center;justify-content:center;
  font-size:0.85rem;font-weight:800;letter-spacing:-0.02em;
  position:relative;
  transition:transform 0.25s var(--ease-out);
}
.agent-card:hover .agent-avatar{transform:scale(1.06)}
.agent-avatar::after{content:"";position:absolute;bottom:-2px;right:-2px;width:12px;height:12px;border-radius:50%;border:2px solid var(--bg-deep)}
.agent-avatar.online::after{background:#34d399;box-shadow:0 0 6px #34d399}
.agent-avatar.idle::after{background:#fbbf24;box-shadow:0 0 6px #fbbf24}
.agent-avatar.offline::after{background:#f87171;box-shadow:0 0 6px #f87171}
.agent-name{font-size:0.8rem;font-weight:700;margin-bottom:0.15rem}
.agent-role{font-size:0.65rem;color:var(--text-tertiary);font-weight:500;text-transform:uppercase;letter-spacing:0.06em}
.agent-wallet{font-size:0.58rem;color:var(--text-tertiary);font-family:'JetBrains Mono',monospace;margin-top:0.3rem;opacity:0.6}

/* ========== CLAWHUB SKILLS ========== */
.skills-page-header{margin-bottom:1.5rem}
.skills-top-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;gap:1rem;flex-wrap:wrap}
.skills-top-row h3{font-size:1.15rem;font-weight:800;display:flex;align-items:center;gap:0.5rem;white-space:nowrap}
.skills-top-row h3 span{font-size:1.2rem}
.skills-search-wrap{
  display:flex;align-items:center;gap:0.5rem;flex:1;max-width:400px;
  padding:0.45rem 0.85rem;border-radius:var(--radius-sm);
  background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.07);
  transition:all 0.2s;
}
.skills-search-wrap:focus-within{border-color:rgba(139,92,246,0.3);background:rgba(255,255,255,0.06);box-shadow:0 0 20px rgba(139,92,246,0.08)}
.skills-search-wrap svg{width:14px;height:14px;color:var(--text-tertiary);flex-shrink:0}
.skills-search{flex:1;background:none;border:none;color:var(--text-primary);font-size:0.78rem;font-family:inherit;outline:none}
.skills-search::placeholder{color:var(--text-tertiary)}
.skills-sort{display:flex;align-items:center;gap:0.35rem}
.sort-btn{padding:0.35rem 0.65rem;border:none;background:rgba(255,255,255,0.03);color:var(--text-tertiary);font-size:0.65rem;font-weight:600;font-family:inherit;cursor:pointer;border-radius:7px;transition:all 0.2s;border:1px solid transparent}
.sort-btn.active{background:rgba(139,92,246,0.1);color:#c4b5fd;border-color:rgba(139,92,246,0.2)}
.sort-btn:hover:not(.active){color:var(--text-secondary);background:rgba(255,255,255,0.05)}
.skills-categories{display:flex;gap:0.3rem;overflow-x:auto;padding-bottom:0.5rem;scrollbar-width:none;-webkit-overflow-scrolling:touch;margin-bottom:0.25rem}
.skills-categories::-webkit-scrollbar{display:none}
.cat-pill{
  padding:0.35rem 0.75rem;border-radius:9999px;border:none;
  background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);
  color:var(--text-tertiary);font-size:0.65rem;font-weight:600;font-family:inherit;
  cursor:pointer;transition:all 0.2s;white-space:nowrap;flex-shrink:0;
}
.cat-pill.active{background:rgba(139,92,246,0.12);color:#c4b5fd;border-color:rgba(139,92,246,0.25)}
.cat-pill:hover:not(.active){background:rgba(255,255,255,0.06);color:var(--text-secondary)}
.cat-pill .cat-count{font-size:0.55rem;margin-left:0.25rem;opacity:0.6}
.skills-stats-row{display:flex;gap:1rem;margin-bottom:1.25rem;flex-wrap:wrap}
.skills-stat{display:flex;align-items:center;gap:0.4rem;font-size:0.7rem;color:var(--text-tertiary)}
.skills-stat strong{color:var(--text-primary);font-weight:700;font-variant-numeric:tabular-nums}
.skills-featured{margin-bottom:1.5rem}
.skills-featured-title{font-size:0.72rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:0.08em;margin-bottom:0.75rem;display:flex;align-items:center;gap:0.4rem}
.featured-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:0.75rem}
.skills-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}
.skills-header h3{font-size:1rem;font-weight:700;display:flex;align-items:center;gap:0.5rem}
.skills-header h3 span{font-size:1.1rem}
.skills-filter{display:flex;gap:0.25rem;background:rgba(255,255,255,0.03);border-radius:var(--radius-sm);padding:3px}
.filter-btn{padding:0.35rem 0.7rem;border:none;background:transparent;color:var(--text-tertiary);font-size:0.68rem;font-weight:600;font-family:inherit;cursor:pointer;border-radius:7px;transition:all 0.2s}
.filter-btn.active{background:rgba(255,255,255,0.08);color:var(--text-primary)}
.filter-btn:hover:not(.active){color:var(--text-secondary)}
.skills-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:0.75rem}
.skill-card{
  display:flex;align-items:flex-start;gap:0.85rem;
  padding:1rem;cursor:pointer;
}
.skill-card:hover{background:rgba(255,255,255,0.06)}
.skill-card.featured-card{border-color:rgba(139,92,246,0.15);background:linear-gradient(135deg,rgba(139,92,246,0.05),rgba(6,182,212,0.03))}
.skill-card.featured-card:hover{border-color:rgba(139,92,246,0.25)}
.skill-icon{
  width:44px;height:44px;border-radius:14px;flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  font-size:1.15rem;font-weight:800;letter-spacing:-0.02em;
  position:relative;
}
.skill-icon .verified-badge{
  position:absolute;bottom:-2px;right:-2px;width:14px;height:14px;
  border-radius:50%;background:#3b82f6;border:2px solid var(--bg-deep);
  display:flex;align-items:center;justify-content:center;
  font-size:0.45rem;color:#fff;line-height:1;
}
.skill-info{flex:1;min-width:0}
.skill-name{font-size:0.82rem;font-weight:700;display:flex;align-items:center;gap:0.4rem;flex-wrap:wrap}
.skill-desc{font-size:0.68rem;color:var(--text-tertiary);margin-top:0.2rem;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.skill-meta{display:flex;align-items:center;gap:0.6rem;margin-top:0.35rem;font-size:0.6rem;color:var(--text-tertiary);flex-wrap:wrap}
.skill-downloads{display:flex;align-items:center;gap:0.2rem}
.skill-rating{display:flex;align-items:center;gap:0.15rem;color:#fbbf24}
.skill-rating .stars{letter-spacing:1px;font-size:0.55rem}
.skill-rating .rating-num{color:var(--text-tertiary);margin-left:0.15rem}
.skill-version{font-family:'JetBrains Mono',monospace;font-size:0.55rem;opacity:0.6}
.skill-author{opacity:0.7}
.skill-cat-badge{font-size:0.52rem;font-weight:700;padding:0.08rem 0.4rem;border-radius:4px;text-transform:uppercase;letter-spacing:0.04em}
.skill-installed{font-size:0.55rem;font-weight:700;padding:0.15rem 0.5rem;border-radius:5px;background:rgba(16,185,129,0.12);color:#34d399;border:1px solid rgba(16,185,129,0.2);display:inline-flex;align-items:center;gap:0.25rem}
.skill-install-btn{font-size:0.6rem;font-weight:700;padding:0.25rem 0.65rem;border-radius:7px;background:rgba(139,92,246,0.12);color:#a78bfa;border:1px solid rgba(139,92,246,0.2);cursor:pointer;transition:all 0.2s;display:inline-flex;align-items:center;gap:0.25rem}
.skill-install-btn:hover{background:rgba(139,92,246,0.25);box-shadow:0 0 16px rgba(139,92,246,0.15)}

/* ========== SIGNALS ========== */
.signals-section{margin-top:1.25rem}
.signals-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem}
.flow-card{margin-bottom:1.25rem}
.flow-steps{display:flex;align-items:center;justify-content:center;gap:0;padding:1rem 0;flex-wrap:wrap}
.flow-step{display:flex;align-items:center;gap:0.5rem;padding:0.5rem 0.9rem;border-radius:var(--radius-sm);background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);font-size:0.72rem;font-weight:600;color:var(--text-secondary)}
.flow-step.active{background:rgba(255,98,0,0.08);border-color:rgba(255,98,0,0.25);color:#ff6200}
.flow-step.ai{background:rgba(139,92,246,0.08);border-color:rgba(139,92,246,0.25);color:#a78bfa}
.flow-step.build{background:rgba(16,185,129,0.08);border-color:rgba(16,185,129,0.25);color:#34d399}
.flow-arrow{color:var(--text-tertiary);font-size:0.8rem;padding:0 0.25rem;opacity:0.4}
.flow-sub{font-size:0.6rem;color:var(--text-tertiary);text-align:center;margin-top:0.35rem}
.signal-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:0.5rem;margin-bottom:1rem}
.signal-stat{text-align:center;padding:0.6rem 0.4rem;background:rgba(255,255,255,0.02);border-radius:var(--radius-sm);border:1px solid rgba(255,255,255,0.04)}
.signal-stat-val{font-size:1.3rem;font-weight:800;letter-spacing:-0.02em;font-variant-numeric:tabular-nums}
.signal-stat-val.reddit{color:#ff6200}.signal-stat-val.kw{color:#fbbf24}.signal-stat-val.sub{color:#60a5fa}.signal-stat-val.files{color:#34d399}
.signal-stat-lbl{font-size:0.6rem;color:var(--text-tertiary);margin-top:0.1rem}
.signal-item{padding:0.6rem 0.65rem;border-bottom:1px solid rgba(255,255,255,0.04);border-radius:var(--radius-sm);transition:background 0.2s}
.signal-item:hover{background:rgba(255,98,0,0.03)}
.signal-item:last-child{border-bottom:none}
.signal-header{display:flex;align-items:center;gap:0.5rem;margin-bottom:0.3rem}
.signal-sub-badge{font-size:0.58rem;font-weight:700;padding:0.1rem 0.45rem;border-radius:4px;background:rgba(255,98,0,0.1);color:#ff6200;border:1px solid rgba(255,98,0,0.2);flex-shrink:0;white-space:nowrap}
.signal-title{font-size:0.76rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}
.signal-title a{color:inherit;text-decoration:none}
.signal-title a:hover{color:var(--accent-cyan);text-decoration:underline}
.signal-metrics{display:flex;align-items:center;gap:0.6rem;font-size:0.62rem;color:var(--text-tertiary);margin-bottom:0.25rem}
.signal-metric{display:flex;align-items:center;gap:0.2rem}
.signal-metric .up{color:#ff6200;font-weight:700}
.signal-metric .comments{color:#60a5fa;font-weight:600}
.signal-body{font-size:0.65rem;color:var(--text-tertiary);line-height:1.5;margin-bottom:0.3rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.signal-keywords{display:flex;flex-wrap:wrap;gap:0.25rem}
.signal-kw{font-size:0.55rem;font-weight:600;padding:0.08rem 0.35rem;border-radius:3px;background:rgba(251,191,36,0.08);color:#fbbf24;border:1px solid rgba(251,191,36,0.15)}
.sub-chart{display:flex;flex-direction:column;gap:0.3rem;margin-top:0.5rem}
.sub-row{display:flex;align-items:center;gap:0.5rem}
.sub-name{font-size:0.62rem;color:var(--text-secondary);width:100px;text-align:right;flex-shrink:0;font-family:'JetBrains Mono',monospace}
.sub-bar-wrap{flex:1;height:14px;background:rgba(255,255,255,0.03);border-radius:3px;overflow:hidden}
.sub-bar{height:100%;border-radius:3px;background:linear-gradient(90deg,#ff6200,#ff8c40);transition:width 0.7s var(--ease-out)}
.sub-count{font-size:0.6rem;color:var(--text-tertiary);width:24px;font-variant-numeric:tabular-nums;font-family:'JetBrains Mono',monospace}

/* ========== COMMAND PALETTE ========== */
.cmd-overlay{position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.55);backdrop-filter:blur(12px);display:none;align-items:flex-start;justify-content:center;padding-top:15vh;animation:overlay-in 0.2s var(--ease-out)}
.cmd-overlay.open{display:flex}
@keyframes overlay-in{from{opacity:0}}
.cmd-modal{width:520px;max-width:90vw;background:rgba(13,13,26,0.96);border:1px solid rgba(255,255,255,0.08);border-radius:var(--radius-lg);overflow:hidden;box-shadow:0 24px 80px rgba(0,0,0,0.5),0 0 0 1px rgba(139,92,246,0.05);animation:cmd-in 0.25s var(--ease-out-expo)}
@keyframes cmd-in{from{opacity:0;transform:scale(0.97) translateY(-8px)}}
.cmd-input-wrap{padding:0.75rem 1rem;border-bottom:1px solid rgba(255,255,255,0.06);display:flex;align-items:center;gap:0.5rem}
.cmd-input-wrap svg{width:18px;height:18px;color:var(--text-tertiary);flex-shrink:0}
.cmd-input{flex:1;background:none;border:none;color:var(--text-primary);font-size:0.9rem;font-family:inherit;outline:none}
.cmd-input::placeholder{color:var(--text-tertiary)}
.cmd-results{max-height:320px;overflow-y:auto;padding:0.5rem}
.cmd-item{display:flex;align-items:center;gap:0.65rem;padding:0.55rem 0.75rem;border-radius:var(--radius-sm);cursor:pointer;transition:background 0.15s;color:var(--text-secondary);font-size:0.8rem}
.cmd-item:hover,.cmd-item.selected{background:rgba(139,92,246,0.1);color:var(--text-primary)}
.cmd-item-icon{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:0.85rem;background:rgba(255,255,255,0.05);flex-shrink:0}
.cmd-item-text{flex:1}
.cmd-item-hint{font-size:0.62rem;color:var(--text-tertiary)}
.cmd-footer{padding:0.5rem 1rem;border-top:1px solid rgba(255,255,255,0.05);display:flex;align-items:center;gap:1rem;font-size:0.62rem;color:var(--text-tertiary)}
.cmd-footer kbd{font-size:0.58rem;padding:0.08rem 0.3rem;border-radius:3px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.1);font-family:'JetBrains Mono',monospace}

/* ========== EMPTY / LOADING / TOAST ========== */
.empty{text-align:center;padding:2.5rem 1rem;color:var(--text-tertiary);font-size:0.8rem}
.empty-icon{font-size:2rem;margin-bottom:0.5rem;filter:grayscale(0.3)}
.skeleton{background:linear-gradient(90deg,rgba(255,255,255,0.02) 25%,rgba(255,255,255,0.05) 50%,rgba(255,255,255,0.02) 75%);background-size:200% 100%;animation:shimmer 2s var(--ease-in-out) infinite;border-radius:var(--radius-sm)}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
.toast-container{position:fixed;bottom:1.5rem;right:1.5rem;display:flex;flex-direction:column;gap:0.5rem;z-index:1000;pointer-events:none}
.toast{padding:0.6rem 1rem;background:rgba(13,13,26,0.92);backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius-sm);font-size:0.72rem;font-weight:500;color:var(--text-secondary);box-shadow:0 8px 32px rgba(0,0,0,0.3),0 0 0 1px rgba(139,92,246,0.05);animation:toast-in 0.35s var(--ease-out),toast-out 0.3s var(--ease-in) 2.5s forwards;pointer-events:auto}
@keyframes toast-in{from{opacity:0;transform:translateX(24px)}}
@keyframes toast-out{to{opacity:0;transform:translateX(16px)}}
.footer{text-align:center;padding:2rem 0 1.5rem;font-size:0.65rem;color:var(--text-tertiary)}
.footer a{color:var(--accent-purple);text-decoration:none}
.footer a:hover{text-decoration:underline}

/* ========== ANIMATIONS ========== */
@keyframes fade-in-up{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.ani{animation:fade-in-up 0.5s var(--ease-out) both}
.d1{animation-delay:0.04s}.d2{animation-delay:0.08s}.d3{animation-delay:0.12s}
.d4{animation-delay:0.16s}.d5{animation-delay:0.2s}.d6{animation-delay:0.24s}
.d7{animation-delay:0.28s}.d8{animation-delay:0.32s}
@keyframes count-pop{0%{transform:scale(1)}50%{transform:scale(1.12)}100%{transform:scale(1)}}
.count-changed{animation:count-pop 0.3s var(--ease-spring)}
@keyframes spin{to{transform:rotate(360deg)}}
/* Subtle glow pulse for active elements */
@keyframes glow-pulse{0%,100%{box-shadow:0 0 12px rgba(139,92,246,0.1)}50%{box-shadow:0 0 24px rgba(139,92,246,0.2)}}
/* Fade in for dynamically added content */
@keyframes fade-in{from{opacity:0}to{opacity:1}}
/* Slide in from right for toasts */
@keyframes slide-in-right{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
.btn-refresh{display:inline-flex;align-items:center;gap:0.4rem;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);color:var(--text-secondary);padding:0.45rem 0.9rem;border-radius:var(--radius-sm);cursor:pointer;font-size:0.75rem;font-weight:600;font-family:inherit;transition:all 0.2s var(--ease-out)}
.btn-refresh:hover{background:rgba(255,255,255,0.1);color:var(--text-primary)}
.btn-refresh:active{transform:scale(0.97)}
.btn-refresh svg{width:14px;height:14px;transition:transform 0.5s var(--ease-out)}
.btn-refresh.spinning svg{animation:spin 0.6s linear}

/* ========== RESPONSIVE ========== */
@media(max-width:1200px){.stats-row{grid-template-columns:repeat(4,1fr)}.squadron-grid{grid-template-columns:repeat(2,1fr)}.skills-grid{grid-template-columns:1fr}.featured-grid{grid-template-columns:1fr}}
@media(max-width:1024px){.main-grid{grid-template-columns:1fr}.signals-grid{grid-template-columns:1fr}.sidebar{transform:translateX(-100%)}.sidebar.mobile-open{transform:translateX(0)}.main-content{margin-left:0 !important}.skills-top-row{flex-direction:column;align-items:stretch}.skills-search-wrap{max-width:none}.skills-sort{justify-content:center}}
@media(max-width:640px){.stats-row{grid-template-columns:repeat(2,1fr)}.page{padding:1rem}.topbar{padding:0 1rem}.squadron-grid{grid-template-columns:1fr 1fr}.flow-steps{flex-direction:column;gap:0.35rem}.flow-arrow{transform:rotate(90deg)}.signal-stats{grid-template-columns:repeat(2,1fr)}.cmd-trigger{display:none}.skills-stats-row{gap:0.5rem;font-size:0.65rem}.skills-sort{flex-wrap:wrap}}
@media(max-width:400px){.stats-row{grid-template-columns:1fr}}
@media(prefers-reduced-motion:reduce){*,*::before,*::after{animation-duration:0.01ms !important;transition-duration:0.01ms !important;animation-iteration-count:1 !important}}

/* ========== FINISHING TOUCHES - Phase 6 ========== */
::selection{background:rgba(139,92,246,0.25);color:#fff}
:focus-visible{outline:2px solid rgba(139,92,246,0.5);outline-offset:2px;border-radius:var(--radius-sm)}
/* Smooth page section transitions */
.page-section{animation:fade-in 0.3s var(--ease-out)}
/* Number styling */
[class*="stat-val"],[class*="score-num"],[class*="sub-count"]{font-variant-numeric:tabular-nums}
/* Interactive states - press feedback */
.nav-item:active,.tab-btn:active,.cat-pill:active,.sort-btn:active,.filter-btn:active{transform:scale(0.97)}
/* Subtle border glow on focused inputs */
.skills-search:focus,.cmd-input:focus{caret-color:var(--accent-purple)}
/* Reduced stagger on dynamic lists */
.list-item{transition:background 0.15s var(--ease-out)}
/* Animated gradient line at top of page */
.topbar::after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(139,92,246,0.15) 30%,rgba(6,182,212,0.15) 70%,transparent);opacity:0.6}
</style>
</head>
<body>

<!-- Background layers -->
<div class="bg-layer">
  <div class="aurora-orb"></div>
  <div class="aurora-orb"></div>
  <div class="aurora-orb"></div>
  <div class="aurora-orb"></div>
</div>
<div class="dot-grid"></div>
<div class="noise-overlay"></div>

<div class="app-layout">

<!-- ========== SIDEBAR ========== -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-logo">&#x1f9de;</div>
    <div class="sidebar-brand">
      <h2>MVP Factory</h2>
      <span>Command Center</span>
    </div>
  </div>

  <nav class="sidebar-nav">
    <div class="nav-section">
      <div class="nav-label">Overview</div>
      <div class="nav-item active" data-page="dashboard" onclick="navigateTo('dashboard')">
        <span class="nav-icon">&#9881;&#65039;</span>
        <span class="nav-text">Dashboard</span>
      </div>
      <div class="nav-item" data-page="pipeline" onclick="navigateTo('pipeline')">
        <span class="nav-icon">&#128203;</span>
        <span class="nav-text">Pipeline</span>
        <span class="nav-badge" id="navQueueCount">0</span>
      </div>
      <div class="nav-item" data-page="signals" onclick="navigateTo('signals')">
        <span class="nav-icon">&#128225;</span>
        <span class="nav-text">Reddit Signals</span>
      </div>
    </div>
    <div class="nav-section">
      <div class="nav-label">Squadron</div>
      <div class="nav-item" data-page="agents" onclick="navigateTo('agents')">
        <span class="nav-icon">&#129302;</span>
        <span class="nav-text">Agents</span>
        <span class="nav-badge">4</span>
      </div>
      <div class="nav-item" data-page="skills" onclick="navigateTo('skills')">
        <span class="nav-icon">&#9889;</span>
        <span class="nav-text">ClawHub Skills</span>
        <span class="nav-badge" id="navSkillCount">34</span>
      </div>
    </div>
    <div class="nav-section">
      <div class="nav-label">System</div>
      <div class="nav-item" data-page="logs" onclick="navigateTo('logs')">
        <span class="nav-icon">&#128421;</span>
        <span class="nav-text">Logs</span>
      </div>
    </div>
  </nav>

  <div class="sidebar-footer">
    <button class="sidebar-toggle" onclick="toggleSidebar()" title="Toggle sidebar">&#9776;</button>
    <span class="sidebar-version">NeuraFinity v2026.2.3</span>
  </div>
</aside>

<!-- ========== MAIN CONTENT ========== -->
<div class="main-content">

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="topbar-left">
      <button class="topbar-btn" onclick="toggleSidebar()" style="display:none" id="mobileMenuBtn">&#9776;</button>
      <div class="breadcrumb">
        <span>MVP Factory</span>
        <span style="opacity:0.3">/</span>
        <span class="breadcrumb-active" id="breadcrumbPage">Dashboard</span>
      </div>
      <div class="cmd-trigger" onclick="openCommandPalette()">
        <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
        Search commands...
        <kbd>Ctrl+K</kbd>
      </div>
    </div>
    <div class="topbar-right">
      <div class="status-pill">
        <span class="status-dot green" id="sDot"></span>
        <span id="sText">Connecting...</span>
      </div>
      <span class="sys-badge" id="sysMem" title="Daemon memory"></span>
      <span class="sys-badge" id="sysLoad" title="System load"></span>
      <span class="meta-time" id="lastUpdate"></span>
      <button class="topbar-btn" onclick="doRefresh()" id="refreshBtn" title="Refresh">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2v6h-6"/><path d="M3 12a9 9 0 0 1 15-6.7L21 8"/><path d="M3 22v-6h6"/><path d="M21 12a9 9 0 0 1-15 6.7L3 16"/></svg>
      </button>
      <button class="topbar-btn" onclick="toast('Notifications coming soon')" title="Notifications">
        &#128276;
        <span class="notif-dot"></span>
      </button>
    </div>
  </div>

  <div class="page">

    <!-- ===== DASHBOARD PAGE ===== -->
    <div class="page-section active" id="page-dashboard">

      <!-- SQUADRON AGENTS -->
      <div class="squadron-grid ani d1" id="squadronGrid">
        <div class="card agent-card ani d1">
          <div class="agent-avatar online" style="background:rgba(59,130,246,0.15);color:#60a5fa">FC</div>
          <div class="agent-name">FrontendClaw</div>
          <div class="agent-role">Frontend</div>
          <div class="agent-wallet">0xdb1b...e5fb</div>
        </div>
        <div class="card agent-card ani d2">
          <div class="agent-avatar online" style="background:rgba(16,185,129,0.15);color:#34d399">BC</div>
          <div class="agent-name">BackendClaw</div>
          <div class="agent-role">Backend</div>
          <div class="agent-wallet">0x0868...EC98</div>
        </div>
        <div class="card agent-card ani d3">
          <div class="agent-avatar idle" style="background:rgba(245,158,11,0.15);color:#fbbf24">CC</div>
          <div class="agent-name">ContractClaw</div>
          <div class="agent-role">Contract</div>
          <div class="agent-wallet">0xa84b...A529</div>
        </div>
        <div class="card agent-card ani d4">
          <div class="agent-avatar online" style="background:rgba(139,92,246,0.15);color:#a78bfa">PM</div>
          <div class="agent-name">PMClaw</div>
          <div class="agent-role">PM</div>
          <div class="agent-wallet">0x5A0E...AaDf</div>
        </div>
      </div>

      <!-- STATS ROW -->
      <div class="stats-row">
        <div class="card stat-card ani d1">
          <div class="stat-icon">&#127942;</div>
          <div class="stat-value" id="vTotal">--</div>
          <div class="stat-label">Total Shipped</div>
          <div class="stat-sub" id="subTotal">unique products</div>
        </div>
        <div class="card stat-card ani d2">
          <div class="stat-icon">&#127760;</div>
          <div class="stat-value" id="vWeb">--</div>
          <div class="stat-label">Web Apps</div>
          <div class="stat-sub" id="subWeb">Next.js projects</div>
        </div>
        <div class="card stat-card ani d3">
          <div class="stat-icon">&#9729;&#65039;</div>
          <div class="stat-value" id="vSaas">--</div>
          <div class="stat-label">SaaS Products</div>
          <div class="stat-sub">cloud platforms</div>
        </div>
        <div class="card stat-card ani d4">
          <div class="stat-icon">&#128241;</div>
          <div class="stat-value" id="vMobile">--</div>
          <div class="stat-label">Mobile Apps</div>
          <div class="stat-sub" id="subMobile">Expo projects</div>
        </div>
        <div class="card stat-card ani d5">
          <div class="stat-icon">&#128268;</div>
          <div class="stat-value" id="vExtension">--</div>
          <div class="stat-label">Extensions</div>
          <div class="stat-sub">browser plugins</div>
        </div>
        <div class="card stat-card ani d5">
          <div class="stat-icon">&#128279;</div>
          <div class="stat-value" id="vApi">--</div>
          <div class="stat-label">API Services</div>
          <div class="stat-sub">REST endpoints</div>
        </div>
        <div class="card stat-card ani d5">
          <div class="stat-icon">&#9889;</div>
          <div class="stat-value" id="vLive">--</div>
          <div class="stat-label">Live on Vercel</div>
          <div class="stat-sub" id="subLive">deployed</div>
        </div>
        <div class="card stat-card ani d5">
          <div class="stat-icon">&#128203;</div>
          <div class="stat-value" id="vQueue">--</div>
          <div class="stat-label">In Queue</div>
          <div class="stat-sub">ideas waiting</div>
        </div>
      </div>

      <!-- CURRENT BUILD -->
      <div class="current-build-card ani d5" id="currentCard">
        <div class="current-build-inner">
          <div class="card-header">
            <div class="card-title"><span>&#128296;</span> Currently Building</div>
            <span class="card-count" id="buildPhase">idle</span>
          </div>
          <div id="currentContent">
            <div class="build-idle">
              <div class="idle-icon">&#128564;</div>
              <div class="idle-text">Idle &mdash; waiting for next build cycle</div>
              <div class="idle-sub">The daemon checks the queue every 30 minutes</div>
            </div>
          </div>
        </div>
      </div>

      <!-- MAIN GRID: LOGS + PIPELINE -->
      <div class="main-grid">
        <div class="card terminal ani d6" style="padding:0">
          <div class="terminal-header">
            <div class="terminal-dots"><span></span><span></span><span></span></div>
            <div class="terminal-title">daemon.log &mdash; live feed</div>
            <span class="terminal-badge" id="logBadge">live</span>
          </div>
          <div class="log-viewer" id="logViewer"></div>
        </div>
        <div class="sidebar-stack">
          <div class="card ani d7">
            <div class="card-header">
              <div class="card-title"><span>&#128203;</span> Pipeline</div>
              <span class="card-count" id="pipeCount">0</span>
            </div>
            <div class="tabs" id="pipeTabs">
              <button class="tab-btn active" data-tab="queue" onclick="switchTab('queue')">Queue</button>
              <button class="tab-btn" data-tab="built" onclick="switchTab('built')">Shipped</button>
            </div>
            <div class="list-scroll" id="queueList"><div class="empty"><div class="empty-icon">&#128203;</div>Loading queue...</div></div>
            <div class="list-scroll" id="builtList" style="display:none"><div class="empty"><div class="empty-icon">&#127942;</div>Loading builds...</div></div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== SKILLS PAGE ===== -->
    <div class="page-section" id="page-skills">
      <div class="skills-page-header ani">
        <div class="skills-top-row">
          <h3><span>&#9889;</span> ClawHub Skills Marketplace</h3>
          <div class="skills-search-wrap">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            <input class="skills-search" id="skillsSearch" placeholder="Search 5,705+ skills..." autocomplete="off" spellcheck="false" oninput="onSkillSearch(this.value)">
          </div>
          <div class="skills-sort">
            <button class="sort-btn active" data-sort="downloads" onclick="sortSkills('downloads')">&#11206; Downloads</button>
            <button class="sort-btn" data-sort="rating" onclick="sortSkills('rating')">&#11088; Rating</button>
            <button class="sort-btn" data-sort="name" onclick="sortSkills('name')">A-Z</button>
          </div>
        </div>
        <div class="skills-stats-row" id="skillsStatsRow">
          <div class="skills-stat"><strong id="skillsTotalCount">0</strong> skills</div>
          <div class="skills-stat"><strong id="skillsInstalledCount">0</strong> installed</div>
          <div class="skills-stat"><strong id="skillsVerifiedCount">0</strong> verified</div>
          <div class="skills-stat">&#9889; <strong id="skillsTotalDownloads">0</strong> total downloads</div>
        </div>
        <div class="skills-categories" id="skillsCategories"></div>
      </div>
      <div class="skills-featured" id="skillsFeatured">
        <div class="skills-featured-title">&#11088; Featured Skills</div>
        <div class="featured-grid" id="featuredGrid"></div>
      </div>
      <div class="skills-featured-title" style="margin-top:0.5rem">&#128230; All Skills</div>
      <div class="skills-grid ani d1" id="skillsGrid"></div>
    </div>

    <!-- ===== AGENTS PAGE ===== -->
    <div class="page-section" id="page-agents">
      <div class="skills-header ani">
        <h3><span>&#129302;</span> Squadron Agents</h3>
      </div>
      <div class="squadron-grid ani d1" id="agentsFullGrid"></div>
    </div>

    <!-- ===== SIGNALS PAGE ===== -->
    <div class="page-section" id="page-signals">
      <div class="signals-section ani">
        <div class="card flow-card">
          <div class="card-header">
            <div class="card-title"><span>&#128256;</span> Idea Pipeline Flow</div>
            <span class="card-count" id="flowSource">--</span>
          </div>
          <div class="flow-steps">
            <div class="flow-step active">&#128225; Reddit Scrape</div>
            <span class="flow-arrow">&#10132;</span>
            <div class="flow-step active">&#128269; Filter &amp; Rank</div>
            <span class="flow-arrow">&#10132;</span>
            <div class="flow-step ai">&#129302; Kimi K2.5 Refine</div>
            <span class="flow-arrow">&#10132;</span>
            <div class="flow-step build">&#128296; Build MVP</div>
          </div>
          <div class="flow-sub">13 subreddits &#8594; keyword + engagement filter &#8594; top 30 signals &#8594; 5 buildable ideas &#8594; code, test, deploy</div>
        </div>
        <div class="signals-grid">
          <div class="card">
            <div class="card-header">
              <div class="card-title"><span>&#128225;</span> Latest Reddit Signals</div>
              <span class="card-count" id="sigCount">0</span>
            </div>
            <div class="signal-stats" id="sigStats">
              <div class="signal-stat"><div class="signal-stat-val reddit" id="sigTotal">--</div><div class="signal-stat-lbl">Signals</div></div>
              <div class="signal-stat"><div class="signal-stat-val kw" id="sigKw">--</div><div class="signal-stat-lbl">With Keywords</div></div>
              <div class="signal-stat"><div class="signal-stat-val sub" id="sigSubs">--</div><div class="signal-stat-lbl">Subreddits</div></div>
              <div class="signal-stat"><div class="signal-stat-val files" id="sigFiles">--</div><div class="signal-stat-lbl">Scrape Sessions</div></div>
            </div>
            <div class="list-scroll" id="signalList" style="max-height:420px">
              <div class="empty"><div class="empty-icon">&#128225;</div>Loading signals...</div>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;gap:1.25rem">
            <div class="card">
              <div class="card-header">
                <div class="card-title"><span>&#128202;</span> Signals by Subreddit</div>
              </div>
              <div id="subChart" class="sub-chart">
                <div class="empty"><div class="empty-icon">&#128202;</div>Loading...</div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="card-title"><span>&#128161;</span> How It Works</div>
              </div>
              <div style="font-size:0.7rem;color:var(--text-secondary);line-height:1.7">
                <div style="margin-bottom:0.5rem"><strong style="color:var(--text-primary)">No API key needed.</strong> Reddit exposes public JSON endpoints:</div>
                <code style="font-size:0.62rem;color:#ff6200;background:rgba(255,98,0,0.06);padding:0.2rem 0.5rem;border-radius:4px;display:block;margin-bottom:0.6rem;word-break:break-all">reddit.com/r/{sub}/top.json?t=week&amp;limit=25</code>
                <div style="display:flex;flex-direction:column;gap:0.35rem">
                  <div>&#9312; Scrape 13 subreddits (7s delay between each)</div>
                  <div>&#9313; Filter posts by <span style="color:#fbbf24">signal keywords</span> + <span style="color:#ff6200">upvote score</span> (&ge;10)</div>
                  <div>&#9314; Posts with 50+ upvotes auto-included</div>
                  <div>&#9315; Rank by: <code style="font-size:0.6rem;color:var(--text-tertiary)">score + 2x comments + 5x keywords</code></div>
                  <div>&#9316; Top 30 signals fed to <span style="color:#a78bfa">Kimi K2.5</span> for 5 MVP ideas</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== PIPELINE PAGE ===== -->
    <div class="page-section" id="page-pipeline">
      <div class="card ani">
        <div class="card-header">
          <div class="card-title"><span>&#128203;</span> Full Pipeline View</div>
          <span class="card-count" id="fullPipeCount">0</span>
        </div>
        <div class="tabs">
          <button class="tab-btn active" data-tab="fqueue" onclick="switchFullTab('fqueue')">Queue</button>
          <button class="tab-btn" data-tab="fbuilt" onclick="switchFullTab('fbuilt')">Shipped</button>
        </div>
        <div class="list-scroll" id="fullQueueList" style="max-height:600px"><div class="empty"><div class="empty-icon">&#128203;</div>Loading...</div></div>
        <div class="list-scroll" id="fullBuiltList" style="display:none;max-height:600px"><div class="empty"><div class="empty-icon">&#127942;</div>Loading...</div></div>
      </div>
    </div>

    <!-- ===== LOGS PAGE ===== -->
    <div class="page-section" id="page-logs">
      <div class="card terminal ani" style="padding:0">
        <div class="terminal-header">
          <div class="terminal-dots"><span></span><span></span><span></span></div>
          <div class="terminal-title">daemon.log &mdash; full view</div>
          <span class="terminal-badge">live</span>
        </div>
        <div class="log-viewer" id="fullLogViewer" style="max-height:calc(100vh - 200px)"></div>
      </div>
    </div>

    <div class="footer ani d8">
      MVP Factory Command Center &bull; Auto-refreshes every 12s &bull; Powered by <a href="https://clawhub.ai" target="_blank">ClawHub</a> + <a href="https://openwork.bot" target="_blank">OpenWork</a>
    </div>
  </div>
</div>
</div>

<!-- COMMAND PALETTE -->
<div class="cmd-overlay" id="cmdOverlay" onclick="if(event.target===this)closeCommandPalette()">
  <div class="cmd-modal">
    <div class="cmd-input-wrap">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
      <input class="cmd-input" id="cmdInput" placeholder="Type a command or search..." autocomplete="off" spellcheck="false">
    </div>
    <div class="cmd-results" id="cmdResults"></div>
    <div class="cmd-footer">
      <span><kbd>&#8593;&#8595;</kbd> navigate</span>
      <span><kbd>&#9166;</kbd> select</span>
      <span><kbd>Esc</kbd> close</span>
    </div>
  </div>
</div>

<!-- Toast container -->
<div class="toast-container" id="toasts"></div>

<script>
/* ========== UTILITIES ========== */
function relTime(iso){if(!iso)return"";const d=Date.now()-new Date(iso).getTime();const m=Math.floor(d/60000);if(m<1)return"just now";if(m<60)return m+"m ago";const h=Math.floor(m/60);if(h<24)return h+"h ago";return Math.floor(h/24)+"d ago"}
function esc(s){return String(s).replace(/</g,"&lt;").replace(/>/g,"&gt;")}
function badgeCls(t){return({web:"badge-web",saas:"badge-saas",mobile:"badge-mobile",extension:"badge-extension",api:"badge-api"})[t]||"badge-web"}
function badgeLbl(t){return({web:"Web",saas:"SaaS",mobile:"Mobile",extension:"Ext",api:"API"})[t]||t||"Web"}
function scoreCls(pct){return pct>=75?"score-high":pct>=50?"score-mid":"score-low"}
function logCls(l){if(l.includes("[ERROR]"))return"log-error";if(l.includes("[WARN]"))return"log-warn";if(l.includes("COMPLETE")||l.includes("SUCCESS")||l.includes("Deployed"))return"log-success";if(l.includes("Reddit")||l.includes("reddit")||l.includes("r/")||l.includes("signals"))return"log-reddit";if(l.includes("Building:")||l.includes("BUILD CYCLE")||l.includes("RESEARCH CYCLE"))return"log-build";if(l.includes("deploy")||l.includes("Vercel")||l.includes("GitHub"))return"log-deploy";return"log-info"}
function fmtNum(n){if(n>=1000)return(n/1000).toFixed(1)+"k";return String(n)}

/* ========== SPOTLIGHT EFFECT ========== */
document.addEventListener("mousemove",e=>{document.querySelectorAll(".card").forEach(c=>{const r=c.getBoundingClientRect();c.style.setProperty("--mouse-x",(e.clientX-r.left)+"px");c.style.setProperty("--mouse-y",(e.clientY-r.top)+"px")})});

/* ========== ANIMATED COUNTER ========== */
const prevVals={};
function setVal(id,val){const el=document.getElementById(id);if(!el)return;const s=String(val);if(prevVals[id]!==s){el.textContent=s;el.classList.remove("count-changed");void el.offsetWidth;el.classList.add("count-changed");prevVals[id]=s}}

/* ========== NAVIGATION ========== */
let currentPage="dashboard";
function navigateTo(page){
  currentPage=page;
  document.querySelectorAll(".page-section").forEach(s=>s.classList.remove("active"));
  const target=document.getElementById("page-"+page);
  if(target)target.classList.add("active");
  document.querySelectorAll(".nav-item").forEach(n=>n.classList.toggle("active",n.dataset.page===page));
  document.getElementById("breadcrumbPage").textContent=page.charAt(0).toUpperCase()+page.slice(1);
  if(page==="skills")renderSkills();
  if(page==="agents")renderAgentsPage();
  // Close mobile sidebar
  document.getElementById("sidebar").classList.remove("mobile-open");
}

/* ========== SIDEBAR ========== */
function toggleSidebar(){document.getElementById("sidebar").classList.toggle("collapsed")}

/* ========== TABS ========== */
let activeTab="queue";
function switchTab(tab){activeTab=tab;document.querySelectorAll("#pipeTabs .tab-btn").forEach(b=>b.classList.toggle("active",b.dataset.tab===tab));document.getElementById("queueList").style.display=tab==="queue"?"block":"none";document.getElementById("builtList").style.display=tab==="built"?"block":"none"}
function switchFullTab(tab){document.querySelectorAll("#page-pipeline .tab-btn").forEach(b=>b.classList.toggle("active",b.dataset.tab===tab));document.getElementById("fullQueueList").style.display=tab==="fqueue"?"block":"none";document.getElementById("fullBuiltList").style.display=tab==="fbuilt"?"block":"none"}

/* ========== COMMAND PALETTE ========== */
const commands=[
  {icon:"&#9881;&#65039;",label:"Dashboard",hint:"Go to overview",action:()=>navigateTo("dashboard")},
  {icon:"&#128203;",label:"Pipeline",hint:"View build queue",action:()=>navigateTo("pipeline")},
  {icon:"&#128225;",label:"Reddit Signals",hint:"View signal data",action:()=>navigateTo("signals")},
  {icon:"&#129302;",label:"Squadron Agents",hint:"View agent status",action:()=>navigateTo("agents")},
  {icon:"&#9889;",label:"ClawHub Skills",hint:"Browse marketplace",action:()=>navigateTo("skills")},
  {icon:"&#128421;",label:"System Logs",hint:"View daemon logs",action:()=>navigateTo("logs")},
  {icon:"&#128260;",label:"Refresh Data",hint:"Reload all data",action:()=>{doRefresh();closeCommandPalette()}},
  {icon:"&#9776;",label:"Toggle Sidebar",hint:"Collapse/expand",action:()=>{toggleSidebar();closeCommandPalette()}},
];
let cmdIdx=0;
function openCommandPalette(){document.getElementById("cmdOverlay").classList.add("open");document.getElementById("cmdInput").value="";renderCommands("");document.getElementById("cmdInput").focus();cmdIdx=0}
function closeCommandPalette(){document.getElementById("cmdOverlay").classList.remove("open")}
function renderCommands(q){
  const filtered=q?commands.filter(c=>c.label.toLowerCase().includes(q.toLowerCase())):commands;
  document.getElementById("cmdResults").innerHTML=filtered.map((c,i)=>'<div class="cmd-item'+(i===cmdIdx?" selected":"")+'" onclick="commands['+commands.indexOf(c)+'].action();closeCommandPalette()" onmouseenter="cmdIdx='+i+';renderCommands(document.getElementById(\'cmdInput\').value)"><div class="cmd-item-icon">'+c.icon+'</div><div class="cmd-item-text">'+c.label+'</div><div class="cmd-item-hint">'+c.hint+'</div></div>').join("")
}
document.addEventListener("keydown",e=>{
  if((e.ctrlKey||e.metaKey)&&e.key==="k"){e.preventDefault();openCommandPalette();return}
  if(!document.getElementById("cmdOverlay").classList.contains("open"))return;
  if(e.key==="Escape"){closeCommandPalette();return}
  const q=document.getElementById("cmdInput").value;
  const filtered=q?commands.filter(c=>c.label.toLowerCase().includes(q.toLowerCase())):commands;
  if(e.key==="ArrowDown"){e.preventDefault();cmdIdx=Math.min(cmdIdx+1,filtered.length-1);renderCommands(q)}
  if(e.key==="ArrowUp"){e.preventDefault();cmdIdx=Math.max(cmdIdx-1,0);renderCommands(q)}
  if(e.key==="Enter"&&filtered[cmdIdx]){filtered[cmdIdx].action();closeCommandPalette()}
});
document.getElementById("cmdInput").addEventListener("input",e=>{cmdIdx=0;renderCommands(e.target.value)});

/* ========== TOAST ========== */
function toast(msg){const d=document.createElement("div");d.className="toast";d.textContent=msg;document.getElementById("toasts").appendChild(d);setTimeout(()=>d.remove(),3200)}

/* ========== SPARKLINES ========== */
function renderSparkline(id,values,color){
  const el=document.getElementById(id);if(!el)return;
  const max=Math.max(...values,1);
  el.innerHTML=values.map(v=>{const h=Math.max(3,Math.round((v/max)*24));return'<div class="sparkline-bar" style="height:'+h+'px;background:'+color+'"></div>'}).join("")
}
// Generate random sparkline data for demo
const sparkData=Array.from({length:12},()=>Math.floor(Math.random()*8)+1);
renderSparkline("spark1",sparkData,"rgba(139,92,246,0.4)");

/* ========== SKILLS ========== */
let skillsData=[];
let skillFilter="all";
let skillSort="downloads";
let skillSearch="";
const catColors={search:"#f59e0b",ai:"#8b5cf6",comms:"#10b981",browser:"#3b82f6",dev:"#f0f2f5",coding:"#d4a574",productivity:"#f43f5e",media:"#a78bfa",notes:"#34d399",business:"#635bff",devops:"#2496ed",cli:"#a3e635",social:"#e879f9",marketing:"#1d9bf0"};
async function loadSkills(){try{skillsData=await api("/api/skills")||[]}catch{skillsData=[]}}

function onSkillSearch(q){skillSearch=q.toLowerCase();renderSkills()}

function sortSkills(s){
  skillSort=s;
  document.querySelectorAll(".sort-btn").forEach(b=>b.classList.toggle("active",b.dataset.sort===s));
  renderSkills();
}

function filterSkillsCat(cat){
  skillFilter=cat;
  document.querySelectorAll(".cat-pill").forEach(b=>b.classList.toggle("active",b.dataset.cat===cat));
  renderSkills();
}

function renderStars(rating){
  const full=Math.floor(rating);const half=rating%1>=0.5?1:0;const empty=5-full-half;
  return '<span class="stars">'+"&#9733;".repeat(full)+(half?"&#9734;":"")+"&#9734;".repeat(empty)+'</span><span class="rating-num">'+rating.toFixed(1)+'</span>';
}

function renderSkillCard(s,i,isFeatured){
  const verifiedBadge=s.verified?'<span class="verified-badge">&#10003;</span>':'';
  const catColor=catColors[s.category]||"#8892a4";
  return '<div class="card skill-card'+(isFeatured?' featured-card':'')+'" style="animation:fade-in-up 0.4s var(--ease-out-expo) '+(i*0.035)+'s both" onclick="toast(\'Opening '+esc(s.name)+' details...\')">'+
    '<div class="skill-icon" style="background:'+s.color+'18;color:'+s.color+'">'+s.name.charAt(0)+verifiedBadge+'</div>'+
    '<div class="skill-info">'+
      '<div class="skill-name">'+esc(s.name)+' '+
        (s.installed?'<span class="skill-installed" style="cursor:pointer" title="Click to uninstall" onclick="event.stopPropagation();uninstallSkill(\''+esc(s.name)+'\')">&#10003; Installed</span>':'<button class="skill-install-btn" onclick="event.stopPropagation();installSkill(\''+esc(s.name)+'\')">&#43; Install</button>')+
      '</div>'+
      '<div class="skill-desc">'+esc(s.desc)+'</div>'+
      '<div class="skill-meta">'+
        '<span class="skill-downloads">&#11206; '+fmtNum(s.downloads)+'</span>'+
        '<span class="skill-rating">'+renderStars(s.rating||0)+'</span>'+
        '<span class="skill-cat-badge" style="background:'+catColor+'15;color:'+catColor+';border:1px solid '+catColor+'30">'+s.category+'</span>'+
        '<span class="skill-version">v'+esc(s.version||"1.0")+'</span>'+
        '<span class="skill-author">by '+esc(s.author||"unknown")+'</span>'+
      '</div>'+
    '</div>'+
  '</div>';
}

async function installSkill(name){
  toast('Installing '+name+'...');
  try {
    const res=await fetch('/api/skills/install',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name})});
    const data=await res.json();
    if(data.success){
      toast(name+' installed successfully!');
      const s=skillsData.find(x=>x.name===name);
      if(s)s.installed=true;
      renderSkills();
    } else {
      toast(data.error||'Install failed');
    }
  } catch(e){ toast('Install error: '+e.message); }
}

async function uninstallSkill(name){
  toast('Uninstalling '+name+'...');
  try {
    const res=await fetch('/api/skills/uninstall',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name})});
    const data=await res.json();
    if(data.success){
      toast(name+' uninstalled');
      const s=skillsData.find(x=>x.name===name);
      if(s)s.installed=false;
      renderSkills();
    } else {
      toast(data.error||'Uninstall failed');
    }
  } catch(e){ toast('Uninstall error: '+e.message); }
}

function renderSkills(){
  // Filter
  let filtered=skillsData;
  if(skillFilter==="installed")filtered=skillsData.filter(s=>s.installed);
  else if(skillFilter!=="all")filtered=skillsData.filter(s=>s.category===skillFilter);
  // Search
  if(skillSearch)filtered=filtered.filter(s=>s.name.toLowerCase().includes(skillSearch)||s.desc.toLowerCase().includes(skillSearch)||s.category.toLowerCase().includes(skillSearch)||(s.author||"").toLowerCase().includes(skillSearch));
  // Sort
  filtered=[...filtered].sort((a,b)=>{
    if(skillSort==="downloads")return(b.downloads||0)-(a.downloads||0);
    if(skillSort==="rating")return(b.rating||0)-(a.rating||0);
    return a.name.localeCompare(b.name);
  });

  // Stats
  document.getElementById("skillsTotalCount").textContent=skillsData.length;
  document.getElementById("skillsInstalledCount").textContent=skillsData.filter(s=>s.installed).length;
  document.getElementById("skillsVerifiedCount").textContent=skillsData.filter(s=>s.verified).length;
  const totalDl=skillsData.reduce((a,s)=>a+(s.downloads||0),0);
  document.getElementById("skillsTotalDownloads").textContent=fmtNum(totalDl);

  // Categories
  const cats={};skillsData.forEach(s=>{cats[s.category]=(cats[s.category]||0)+1});
  const catEl=document.getElementById("skillsCategories");
  catEl.innerHTML='<button class="cat-pill'+(skillFilter==="all"?" active":"")+'" data-cat="all" onclick="filterSkillsCat(\'all\')">All <span class="cat-count">'+skillsData.length+'</span></button>'+
    '<button class="cat-pill'+(skillFilter==="installed"?" active":"")+'" data-cat="installed" onclick="filterSkillsCat(\'installed\')">Installed <span class="cat-count">'+skillsData.filter(s=>s.installed).length+'</span></button>'+
    Object.entries(cats).sort((a,b)=>b[1]-a[1]).map(([cat,count])=>{
      const color=catColors[cat]||"#8892a4";
      return '<button class="cat-pill'+(skillFilter===cat?" active":"")+'" data-cat="'+cat+'" onclick="filterSkillsCat(\''+cat+'\')" style="'+(skillFilter===cat?"background:"+color+"15;color:"+color+";border-color:"+color+"30":"")+'">'+cat.charAt(0).toUpperCase()+cat.slice(1)+' <span class="cat-count">'+count+'</span></button>'
    }).join("");

  // Featured
  const featuredEl=document.getElementById("skillsFeatured");
  const featuredGrid=document.getElementById("featuredGrid");
  if(!skillSearch&&(skillFilter==="all"||skillFilter==="installed")){
    const featured=skillsData.filter(s=>s.featured);
    if(featured.length){
      featuredEl.style.display="block";
      featuredGrid.innerHTML=featured.map((s,i)=>renderSkillCard(s,i,true)).join("");
    }else featuredEl.style.display="none";
  }else featuredEl.style.display="none";

  // Main grid
  const el=document.getElementById("skillsGrid");
  if(!el)return;
  if(!filtered.length){el.innerHTML='<div class="empty" style="grid-column:1/-1"><div class="empty-icon">&#128269;</div>No skills found matching "'+esc(skillSearch||skillFilter)+'"</div>';return}
  el.innerHTML=filtered.map((s,i)=>renderSkillCard(s,i,false)).join("");
}

/* ========== AGENTS PAGE ========== */
function renderAgentsPage(){
  const agents=[
    {name:"FrontendClaw",role:"Frontend",wallet:"0xdb1b...e5fb",status:"active",color:"#3b82f6",avatar:"FC",desc:"Builds UI components, handles React/Next.js, CSS animations, responsive design"},
    {name:"BackendClaw",role:"Backend",wallet:"0x0868...EC98",status:"active",color:"#10b981",avatar:"BC",desc:"APIs, databases, server logic, authentication, Node.js/Express"},
    {name:"ContractClaw",role:"Contract",wallet:"0xa84b...A529",status:"idle",color:"#f59e0b",avatar:"CC",desc:"Solidity smart contracts, Base chain deployment, token integration"},
    {name:"PMClaw",role:"PM",wallet:"0x5A0E...AaDf",status:"active",color:"#8b5cf6",avatar:"PM",desc:"Task breakdown, coordination, SKILL.md/HEARTBEAT.md management"},
  ];
  const el=document.getElementById("agentsFullGrid");
  if(!el)return;
  el.innerHTML=agents.map((a,i)=>{
    const statusCls=a.status==="active"?"online":"idle";
    return'<div class="card" style="padding:1.5rem;animation:fade-in-up 0.4s var(--ease-out-expo) '+(i*0.08)+'s both"><div style="display:flex;align-items:center;gap:1rem;margin-bottom:1rem"><div class="agent-avatar '+statusCls+'" style="background:'+a.color+'20;color:'+a.color+';margin:0">'+a.avatar+'</div><div><div class="agent-name">'+esc(a.name)+'</div><div class="agent-role">'+a.role+'</div></div></div><div style="font-size:0.72rem;color:var(--text-secondary);line-height:1.6;margin-bottom:0.75rem">'+esc(a.desc)+'</div><div style="display:flex;align-items:center;justify-content:space-between"><div class="agent-wallet">'+a.wallet+'</div><div class="status-pill" style="font-size:0.65rem"><span class="status-dot '+statusCls+'"></span>'+a.status+'</div></div></div>'
  }).join("")
}

/* ========== FETCH ========== */
async function api(path){try{const r=await fetch(path);return await r.json()}catch{return null}}

/* ========== MAIN REFRESH ========== */
let firstLoad=true;
async function refreshAll(){
  const [status,stats,queue,built,logs,current,sys,signals]=await Promise.all([
    api("/api/status"),api("/api/stats"),api("/api/queue"),
    api("/api/built"),api("/api/logs"),api("/api/current"),api("/api/system"),
    api("/api/signals"),
  ]);

  // Status
  if(status){
    const dot=document.getElementById("sDot");const txt=document.getElementById("sText");
    const cls=status.status==="active"?"green":status.status==="activating"?"amber":"red";
    dot.className="status-dot "+cls;
    txt.textContent=status.status==="active"?"Running":status.status;
    document.getElementById("sysMem").textContent=status.memory||"";
    document.getElementById("sysMem").style.display=status.memory?"inline":"none";
  }
  if(sys){const loadEl=document.getElementById("sysLoad");if(sys.load){loadEl.textContent="Load: "+sys.load;loadEl.style.display="inline"}else loadEl.style.display="none"}

  // Stats
  if(stats){
    setVal("vTotal",stats.totalBuilt||0);
    setVal("vWeb",stats.webCount||0);
    setVal("vSaas",stats.saasCount||0);
    setVal("vMobile",stats.mobileCount||0);
    setVal("vExtension",stats.extensionCount||0);
    setVal("vApi",stats.apiCount||0);
    setVal("vLive",stats.liveCount||0);
    document.getElementById("subTotal").textContent=stats.githubCount?(stats.githubCount+" on GitHub"):"unique products";
    document.getElementById("subWeb").textContent=stats.buildsToday?(stats.buildsToday+" built today"):"Next.js projects";
    document.getElementById("subLive").textContent=stats.lastBuildAt?("Last: "+relTime(stats.lastBuildAt)):"deployed";
  }

  // Queue
  if(queue){
    setVal("vQueue",queue.length);
    document.getElementById("pipeCount").textContent=queue.length+" queued";
    document.getElementById("navQueueCount").textContent=queue.length;
    document.getElementById("fullPipeCount").textContent=queue.length+" queued";
    const renderQ=(el,limit)=>{
      if(!queue.length){el.innerHTML='<div class="empty"><div class="empty-icon">&#128171;</div>Queue is empty &mdash; awaiting research</div>';return}
      el.innerHTML=queue.slice(0,limit).map((idea,i)=>{
        const pct=Math.min(100,((idea.viabilityScore||0)/10)*100);const isReddit=idea.source==="reddit";
        const srcTag=isReddit?'<span class="source-tag source-reddit">Reddit</span>':'<span class="source-tag source-ai">AI</span>';
        const sigCount=idea.redditSignals?idea.redditSignals.length:0;
        return'<div class="list-item" style="animation:fade-in-up 0.4s var(--ease-out-expo) '+(i*0.03)+'s both"><span class="list-rank">'+(i+1)+'</span>'+srcTag+'<span class="badge '+badgeCls(idea.type)+'">'+badgeLbl(idea.type)+'</span><div class="list-info"><div class="list-title" title="'+esc(idea.title||"")+'">'+esc(idea.title||"Untitled")+'</div><div class="list-meta"><span>'+(idea.features?idea.features.length:0)+' features</span><span>~'+(idea.estimatedHours||"?")+'h</span>'+(sigCount?'<span style="color:#ff6200">'+sigCount+' signal'+(sigCount>1?'s':'')+'</span>':'')+'</div></div><div class="score-wrap"><span class="score-num">'+(idea.viabilityScore||0)+'</span><div class="score-bar"><div class="score-fill '+scoreCls(pct)+'" style="width:'+pct+'%"></div></div></div></div>'
      }).join("")
    };
    renderQ(document.getElementById("queueList"),40);
    renderQ(document.getElementById("fullQueueList"),100);
  }

  // Built
  if(built){
    const renderB=(el,limit)=>{
      if(!built.length){el.innerHTML='<div class="empty"><div class="empty-icon">&#128640;</div>No builds shipped yet</div>';return}
      el.innerHTML=built.slice(0,limit).map((b,i)=>{
        let links='<div class="link-row">';
        if(b.githubUrl)links+='<a href="'+esc(b.githubUrl)+'" target="_blank" class="link-btn" title="GitHub">GH</a>';
        if(b.liveUrl)links+='<a href="'+esc(b.liveUrl)+'" target="_blank" class="link-btn link-live" title="Live">&#9889;</a>';
        links+='</div>';
        return'<div class="list-item" style="animation:fade-in-up 0.4s var(--ease-out-expo) '+(i*0.03)+'s both"><span class="list-rank">'+(i+1)+'</span><span class="badge '+badgeCls(b.type)+'">'+badgeLbl(b.type)+'</span><div class="list-info"><div class="list-title" title="'+esc(b.title||"")+'">'+esc(b.title||"Untitled")+'</div><div class="list-meta"><span>Score: '+(b.functionalityScore||"?")+'/8</span><span>'+relTime(b.builtAt)+'</span></div></div>'+links+'</div>'
      }).join("")
    };
    renderB(document.getElementById("builtList"),25);
    renderB(document.getElementById("fullBuiltList"),100);
  }

  // Current Build
  const card=document.getElementById("currentCard");const content=document.getElementById("currentContent");const phase=document.getElementById("buildPhase");
  if(current){
    card.classList.add("active");phase.textContent="building";phase.style.color="#a78bfa";
    content.innerHTML='<div class="build-active"><div class="build-spinner"></div><div class="build-info"><h3>'+esc(current.title)+'</h3><p>Started '+relTime(current.startedAt)+' &bull; Generating code, testing, deploying...</p></div></div><div class="build-progress"><div class="build-progress-bar"></div></div>';
  }else{
    card.classList.remove("active");phase.textContent="idle";phase.style.color="";
    content.innerHTML='<div class="build-idle"><div class="idle-icon">&#128564;</div><div class="idle-text">Idle &mdash; waiting for next build cycle</div><div class="idle-sub">The daemon checks the queue every 30 minutes</div></div>';
  }

  // Logs
  if(logs&&logs.length){
    const renderLogs=(viewerId)=>{
      const viewer=document.getElementById(viewerId);if(!viewer)return;
      const wasAtBottom=viewer.scrollHeight-viewer.scrollTop-viewer.clientHeight<60;
      viewer.innerHTML=logs.map(l=>'<div class="log-line '+logCls(l)+'">'+esc(l)+'</div>').join("");
      if(wasAtBottom||firstLoad)viewer.scrollTop=viewer.scrollHeight;
    };
    renderLogs("logViewer");renderLogs("fullLogViewer");
  }

  // Signals
  if(signals){
    const sigs=signals.signals||[];
    if(document.getElementById("vSignals"))setVal("vSignals",sigs.length);
    if(document.getElementById("subSignals"))document.getElementById("subSignals").textContent=signals.file?signals.file.replace("reddit-","").replace(".json","").substring(0,16):"no data";
    const kwCount=sigs.filter(s=>s.keywords&&s.keywords.length>0).length;
    const uniqueSubs=[...new Set(sigs.map(s=>s.subreddit))];
    setVal("sigTotal",sigs.length);setVal("sigKw",kwCount);setVal("sigSubs",uniqueSubs.length);setVal("sigFiles",signals.totalFiles||0);
    document.getElementById("sigCount").textContent=sigs.length+" signals";
    document.getElementById("flowSource").textContent=sigs.length>0?"Reddit-powered":"AI-only";
    const sigEl=document.getElementById("signalList");
    if(!sigs.length){sigEl.innerHTML='<div class="empty"><div class="empty-icon">&#128225;</div>No Reddit signals yet<br><span style="font-size:0.7rem;opacity:0.6">Signals appear after the first research cycle</span></div>'}
    else{sigEl.innerHTML=sigs.slice(0,20).map((s,i)=>{const engagement=s.score+2*(s.numComments||0)+5*(s.keywords?s.keywords.length:0);return'<div class="signal-item" style="animation:fade-in-up 0.4s var(--ease-out-expo) '+(i*0.02)+'s both"><div class="signal-header"><span class="signal-sub-badge">r/'+esc(s.subreddit)+'</span><div class="signal-title"><a href="'+esc(s.url)+'" target="_blank" title="'+esc(s.postTitle)+'">'+esc(s.postTitle)+'</a></div></div><div class="signal-metrics"><span class="signal-metric"><span class="up">&#9650; '+s.score+'</span></span><span class="signal-metric"><span class="comments">&#128172; '+(s.numComments||0)+'</span></span><span class="signal-metric">&#9889; '+engagement+'</span></div>'+(s.postBody?'<div class="signal-body">'+esc(s.postBody.substring(0,200))+'</div>':'')+(s.keywords&&s.keywords.length?'<div class="signal-keywords">'+s.keywords.map(k=>'<span class="signal-kw">'+esc(k)+'</span>').join("")+'</div>':'')+'</div>'}).join("")}
    const chartEl=document.getElementById("subChart");
    if(sigs.length){const subCounts={};sigs.forEach(s=>{subCounts[s.subreddit]=(subCounts[s.subreddit]||0)+1});const sorted=Object.entries(subCounts).sort((a,b)=>b[1]-a[1]);const max=sorted[0]?sorted[0][1]:1;chartEl.innerHTML=sorted.map(([name,count])=>{const pct=Math.round((count/max)*100);return'<div class="sub-row"><span class="sub-name">r/'+esc(name)+'</span><div class="sub-bar-wrap"><div class="sub-bar" style="width:'+pct+'%"></div></div><span class="sub-count">'+count+'</span></div>'}).join("")}
    else{chartEl.innerHTML='<div class="empty" style="padding:1rem"><div class="empty-icon">&#128202;</div>No data yet</div>'}
  }

  document.getElementById("lastUpdate").textContent=new Date().toLocaleTimeString();
  if(firstLoad){firstLoad=false;toast("Dashboard connected");loadSkills().then(()=>{renderSkills();document.getElementById("navSkillCount").textContent=skillsData.length})}
}

function doRefresh(){
  const btn=document.getElementById("refreshBtn");
  btn.style.animation="spin 0.6s linear";
  refreshAll().then(()=>{setTimeout(()=>btn.style.animation="",600);toast("Data refreshed")});
}

// Mobile detection
if(window.innerWidth<=1024){document.getElementById("mobileMenuBtn").style.display="flex";document.getElementById("sidebar").classList.add("collapsed")}

// Init
refreshAll();
setInterval(refreshAll,12000);
</script>
</body>
</html>
